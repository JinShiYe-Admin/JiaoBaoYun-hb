<!--
	作者：444811716@qq.com
	时间：2016-10-26
	描述：云盘主页
-->
<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" href="../../css/utils/common.css" />
		<script src="../../js/mui.min.js"></script>
		<script type="text/javascript" src="../../js/utils/events.js"></script>
		<style>
			.cloud-top {
				/*界面顶部区域*/
				background-repeat: no-repeat;
				/*不重复*/
				background-size: 100%;
				/*宽度占100%*/
			}

			.cloud-info {
				/*顶部信息*/
				padding: 10px;
			}

			.cloud-prsonalimge {
				/*个人头像*/
				border-radius: 50%;
				height: 70px;
				width: 70px;
				margin-top: 10px;
				float: right;
				margin-right: 10px;
			}

			.cloud-name {
				/*名字*/
				color: white;
				margin-bottom: 5px;
			}

			.cloud-top-icon {
				/*图标*/
				width: 20px;
				height: 20px;
			}

			#gift,
			#yuan {
				/*积分和钱*/
				color: #FF6600;
				margin-right: 10px;
				font-weight: 900;
				margin-left: 5px;
			}

			.mui-progressbar {
				/*进度条*/
				margin-top: 5px;
				margin-bottom: 5px;
				height: 10px;
				width: 70%;
			}

			.cloud-capacity {
				/*容量*/
				margin-top: 3px;
				color: white;
			}

			.mui-table-view:before,
			.mui-table-view:after,
			.mui-table-view-cell:after {
				height: 0px;
			}

			.mui-table-view {
				background: transparent;
				min-height: 90px;
			}

			.mui-table-view-cell {
				background: white;
			}

			.cloud-bottom-imge {
				/*云存储的文件图片*/
				height: 40px;
				width: 40px;
			}

			.cloud-bottom-imge2 {
				/*云档案，云应用的图片*/
				height: 30px;
				width: 30px;
				margin-top: 10px;
			}

			.cloud-bottom-imge2-bg {
				/*云档案，云应用的图片背景*/
				height: 50px;
				width: 50px;
				border-radius: 50%;
				margin: auto;
			}

			.cloud-bottom-icon {
				/*云存储右侧按钮*/
				height: 20px;
				width: 20px;
			}

			.cloud-text-align-center {
				text-align: center;
			}

			.cloud-line {
				/*功能名字右侧树竖线*/
				position: absolute;
				right: 0;
				top: 1%;
				width: 1px;
				background: #A9A9A9;
				height: 50px;
			}

			#cloudstorage {
				background-color: white;
				padding: 10px;
				margin: 0;
				margin-top: 11px;
				padding-top: 7px;
				padding-bottom: 7px;
			}

			#cloudrecord,
			#cloudapps {
				background: white;
				padding: 10px;
				margin: 0;
				margin-top: 10px;
				padding-top: 10px;
				padding-bottom: 10px;
			}
		</style>
	</head>

	<body>
		<div class="mui-content">
			<div class="mui-scroll-wrapper">
				<div class="mui-scroll">
					<!--顶部-->
					<div class="cloud-top" style="background-image: url(../../image/cloud/cloud_bg.png); ">
						<div class="cloud-info">
							<div class="mui-row">
								<div class="mui-col-sm-3 mui-col-xs-3">
									<img class="cloud-prsonalimge" src="../../image/cloud/cloud_personalimage.png">
								</div>
								<div class="mui-col-sm-9 mui-col-xs-9">
									<div class="cloud-name common-font-family-Bold mui-ellipsis">
										一二三四五六七八九十一二三四五六七八九十
									</div>
									<font>
										<img class="cloud-top-icon" src="../../image/cloud/cloud_gift.png" />
										<font id="gift">1000</font>
										<img class="cloud-top-icon" src="../../image/cloud/cloud_yuan.gif" />
										<font id="yuan">50元</font>
									</font>
									<div class="mui-progressbar mui-progressbar-in">
										<span></span>
									</div>
									<div class="cloud-capacity">
										总容量:1000G 已用800G 剩余:200G
									</div>
								</div>
							</div>
						</div>
					</div>
					<!--云存储-->
					<ul id="cloudstorage" class="mui-table-view mui-grid-view ">
						<li class="mui-table-view-cell mui-media mui-col-sm-1 mui-col-xs-1" style="padding: 0;position: absolute;">
							<div style="font-weight: bold;">
								<div>存</div>
								<div>储</div>
								<div class="cloud-line"></div>
							</div>
						</li>
						<li class="mui-table-view-cell mui-media mui-col-sm-9 mui-col-xs-9 " style="padding: 5px;margin: 0;margin-left: 10%;">
							<div class="mui-row" id="cloudstoragefile">
								<!--<div class="mui-col-sm-4 mui-col-xs-4 cloud-text-align-center">
									<img class="cloud-bottom-imge" src="../../image/cloud/cloud_folder.png" />
									<p class="mui-ellipsis">泰国旅游照片泰国旅游照片</p>
								</div>
								<div class="mui-col-sm-4 mui-col-xs-4 cloud-text-align-center">
									<img class="cloud-bottom-imge" src="../../image/cloud/cloud_folder.png" />
									<p class="mui-ellipsis">H5基础视频</p>
								</div>
								<div class="mui-col-sm-4 mui-col-xs-4 " id="addFolder">
									<p class="mui-icon mui-icon-plusempty" style="font-size: 50px;margin-top: 4px;"></p>
								</div>-->
							</div>
						</li>
						<li class="mui-table-view-cell mui-media mui-col-sm-1 mui-col-xs-1 " style="padding: 0;">
							<img class="cloud-bottom-icon" src="../../image/cloud/rightarrow.png" />
						</li>
					</ul>
					<!--云档案-->
					<ul id="cloudrecord" class="mui-table-view mui-grid-view">
						<li class="mui-table-view-cell mui-media mui-col-sm-1 mui-col-xs-1" style="padding: 0;position: absolute;">
							<div style="font-weight: bold;">
								<div>档</div>
								<div>案</div>
								<div class="cloud-line"></div>
							</div>
						</li>
						<li class="mui-table-view-cell mui-media mui-col-sm-11 mui-col-xs-11 " style="padding: 5px;margin: 0;margin-left: 8%;">
							<div class="mui-row">
								<div class="mui-col-sm-3 mui-col-xs-3 cloud-text-align-center" value="0">
									<div class="cloud-bottom-imge2-bg" style="background: #6C7CC9;">
										<img class="cloud-bottom-imge2" src="../../image/cloud/cloud_record.png" />
									</div>
									<p class="mui-ellipsis" id="record">李云档案</p>
								</div>
								<div class="mui-col-sm-3 mui-col-xs-3 cloud-text-align-center" value="1">
									<div class="cloud-bottom-imge2-bg" style="background: #96D956;">
										<img class="cloud-bottom-imge2" src="../../image/cloud/cloud_learningpath.png" />
									</div>
									<p class="mui-ellipsis">学习轨迹</p>
								</div>
							</div>
						</li>
					</ul>
					<!--云应用-->
					<ul id="cloudapps" class="mui-table-view mui-grid-view">
						<li class="mui-table-view-cell mui-media mui-col-sm-1 mui-col-xs-1" style="padding: 0;position: absolute;">
							<div style="font-weight: bold;">
								<div>应</div>
								<div>用</div>
								<div class="cloud-line"></div>
							</div>
						</li>
						<li class="mui-table-view-cell mui-media mui-col-sm-11 mui-col-xs-11 " style="padding: 5px;margin: 0;margin-left: 8%;">
							<div class="mui-row">
								<div class="mui-col-sm-3 mui-col-xs-3 cloud-text-align-center" value="0">
									<div class="cloud-bottom-imge2-bg" style="background: #5CAAE8;">
										<img class="cloud-bottom-imge2" src="../../image/cloud/cloud_notes.png" />
									</div>
									<p class="mui-ellipsis">笔记</p>
								</div>
								<div class="mui-col-sm-3 mui-col-xs-3 cloud-text-align-center" value="1">
									<div class="cloud-bottom-imge2-bg" style="background: #E17D7D;">
										<img class="cloud-bottom-imge2" src="../../image/cloud/cloud_keeprecord.png" />
									</div>
									<p class="mui-ellipsis">记事</p>
								</div>
								<div class="mui-col-sm-3 mui-col-xs-3 cloud-text-align-center" value="2">
									<div class="cloud-bottom-imge2-bg" style="background: #FF9861;">
										<img class="cloud-bottom-imge2" src="../../image/cloud/cloud_pay.png" />
									</div>
									<p class="mui-ellipsis">充值</p>
								</div>
								<div class="mui-col-sm-3 mui-col-xs-3 cloud-text-align-center" value="3">
									<div class="cloud-bottom-imge2-bg" style="background: #31C27C;">
										<img class="cloud-bottom-imge2-bg" src="../../image/cloud/cloud_homework.png" />
									</div>
									<p class="mui-ellipsis">作业批改</p>
								</div>
								<!--<div class="mui-col-sm-3 mui-col-xs-3 cloud-text-align-center" value="3">
									<div class="cloud-bottom-imge2-bg" style="background: #31C27C;">
										<img class="cloud-bottom-imge2-bg" src="../../image/cloud/cloud_homework.png" />
									</div>
									<p class="mui-ellipsis">作业批改</p>
								</div>-->
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			mui.init();
			mui.plusReady(function() {
				//初始化滚动条
				mui('.mui-scroll-wrapper').scroll({
					indicators: true, //是否显示滚动条
					bounce: false, //是否启用回弹
				});
				//-----------设置数据start---------------
				//设置进度条进度
				mui('.mui-progressbar').progressbar({
					progress: 80
				}).show();

				//增加存储文件
				addStorageFolder('泰国旅游照片泰国旅游照片', 0);
				//				addStorageFolder('H5教程');
				//增加加号
				addStorageIcon();

				//设置档案名称
				//var record = document.getElementById("record");
				//record.innerText = '小熊猫档案';
				//-----------设置数据end-----------------

				//-----------设置监听start---------------
				//---存储start---
				//云存储显示的文件
				mui('#cloudstorage').on('tap', '.cloud-text-align-center', function() {
					events.openNewWindow('storage_main.html');
				});
				//增加文件夹
				mui('#cloudstorage').on('tap', '#addFolder', function(e) {
					e.detail.gesture.preventDefault(); //修复iOS 8.x平台存在的bug，使用plus.nativeUI.prompt会造成输入法闪一下又没了
					var btnArray = ['取消', '确定'];
					mui.prompt('请输入新文件夹的名称：', '新文件夹', '新建文件夹', btnArray, function(e) {
						if(e.index == 1) { //点击确定
							if(e.value == '') {
								mui.toast('文件夹名字不能为空');
							} else {
								var table = document.getElementById("cloudstoragefile");
								var num = table.getElementsByClassName('cloud-text-align-center');
								if(num.length == 2) {
									document.getElementById("addFolder").style.display = "none";
								}
								addStorageFolder(e.value, 1);
							}
						} else {
							//点击取消
						}
					});
				});
				//云存储右侧按钮
				mui('#cloudstorage').on('tap', '.cloud-bottom-icon', function() {
					events.openNewWindow('storage_main.html');
				});
				//---存储end---
				//---档案---
				mui('#cloudrecord').on('tap', '.mui-col-sm-3', function() {
					var value = this.getAttribute("value");
					switch(value) {
						case "0": //XX档案
							events.openNewWindow('record_student_main.html');
							break;
						case "1": //学习轨迹
							events.openNewWindow('record_learningpath_main.html');
							break;
					}
				});
				//---应用---
				mui('#cloudapps').on('tap', '.mui-col-sm-3', function() {
					var value = this.getAttribute("value");
					switch(value) {
						case "0": //笔记
							events.openNewWindow('app_notes_main.html');
							break;
						case "1": //记事
							events.openNewWindow('app_keeprecord.html');
							break;
						case "2": //充值
						    events.openNewWindow('../quan/studentdynamic_main.html');
							break;
						case "3": //作业批改
						events.openNewWindow('../homework/homework-tea.html')
							break;
					}
				});
				//-----------设置监听end---------------

				/**
				 * 增加存储的文件夹
				 * @param {Object} data 文件夹名字
				 * @param {Object} type 增加文件夹的方式,0-获取数据后添加，1-通过加号添加
				 */
				function addStorageFolder(data, type) {
					var table = document.getElementById("cloudstoragefile");
					var div = document.createElement("div");
					div.className = 'mui-col-sm-4 mui-col-xs-4 cloud-text-align-center';
					var html1 = '<img class="cloud-bottom-imge" src="../../image/cloud/cloud_folder.png" />';
					var html2 = '<p class="mui-ellipsis">' + data + '</p>';
					div.innerHTML = html1 + html2;
					if(type == 0) {
						table.appendChild(div);
					} else {
						var addFolder = document.getElementById("addFolder");
						table.insertBefore(div, addFolder);
					}

				}

				/**
				 * 增加文件夹的按钮（加号按钮）
				 */
				function addStorageIcon() {
					var table = document.getElementById("cloudstoragefile");
					var div = document.createElement('div');
					div.id = 'addFolder';
					div.className = 'mui-col-sm-4 mui-col-xs-4';
					div.innerHTML = '<p class="mui-icon mui-icon-plusempty" style="font-size: 50px;margin-top: 4px;"></p>';
					table.appendChild(div);
				}
			});
		</script>
	</body>

</html>