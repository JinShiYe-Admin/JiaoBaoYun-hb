<!--求知回答界面-->
<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../css/mui.min.css" rel="stylesheet" />
		<link href="../../css/utils/common.css" rel="stylesheet" />
		<link href="../../css/iconfont/iconfont.css" rel="stylesheet" />
	</head>

	<body>
		<header class="mui-bar mui-bar-nav">
			<a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
			<h1 id="title" class="mui-title">物理</h1>
		</header>
		<div class="mui-content">
			<br />
			<div style="font-size: 16px;padding-left: 10px;">授课老师</div>
			<img id="teaHeadImg" style="padding-left: 10px;" src="../../image/clip.png" />
			<div style="border-color: green;height: auto;border-width:1px ;border-style:dashed;margin-right: 20px;margin-left: 30px;margin-top: -30px;">

				<div style="padding:5px 10px;">
					<p id="teaName" style="text-align: center;color: black;font-size: 14px;">宋艳明</p><span id="teaInfo" style="text-align: center;color: black;font-size: 14px;">
						人foe计日工IE计日工我金额荣光金额无人机二个人家给人家个人际公积金
						人foe计日工IE计日工我金额荣光金额无人机二个人家给人家个人际公积金
						人foe计日工IE计日工我金额荣光金额无人机二个人家给人家个人际公积金
					</span>
				</div>

			</div>
			<p style="background-color:lightgray;height: 1px;margin-top: 10px;"></p>
			<div>
				<div style="font-size: 16px;padding-left: 10px;">课程介绍</div>
				<p id="courseInfo" style="padding-left: 40px;color: black;font-size: 14px;padding-right: 10px;">
					人foe计日工IE计日工我金额荣光金额无人机二个人家给人家个人际公积金 人foe计日工IE计日工我金额荣光金额无人机二个人家给人家个人际公积金 人foe计日工IE计日工我金额荣光金额无人机二个人家给人家个人际公积金
				</p>
			</div>
			<p style="background-color:lightgray;height: 1px;margin-top: 10px;"></p>
			<p id="history" style="color: black;font-size: 16px;padding-left: 10px;padding-right: 10px;">查看历史<span class="mui-icon iconfont icon-fanhui2" style="color:#b7b7b7;float: right;padding-top: 2px;"></span></p>
			<p style="background-color:lightgray;height: 1px;margin-top: 10px;"></p>
			<div align="center">
				<button id="focusBtn" class="mui-btn mui-btn-green btn-commit" style="background-color: #1db8F1;border-color:#1db8F1 ;border: 0;margin-left: 10px;margin-right: 10px;width: 90%;">关注</button>

			</div>

		</div>

		<!--mui.js-->
		<script src="../../js/mui.min.js"></script>
		<!--公共方法js-->
		<script src="../../js/utils/events.js"></script>
		<script src="../../js/publicProtocol.js" type="text/javascript" charset="utf-8"></script>
		<script src="../../js/publicQiuzhiProtocol.js" type="text/javascript" charset="utf-8"></script>
	</body>
	<script type="text/javascript">
		var nodes = {
			title: document.getElementById("title"),
			teaHeadImg: document.getElementById("teaHeadImg"),
			teaName: document.getElementById("teaName"),
			teaInfo: document.getElementById("teaInfo"),
			courseInfo: document.getElementById("courseInfo"),
			history: document.getElementById("history"),
			focusBtn: document.getElementById("focusBtn"),
		}
		var courseID; //从上个界面传值的课程id
		var courseModel; //课程model
		mui.plusReady(function() {
			//获取课程信息
			getInfo();
			//获取自己是否关注此课程
			getFocus();
		});
		//获取自己是否关注此课程
		var getFocus = function() {
			//个人信息
			var personal = window.myStorage.getItem(window.storageKeyName.PERSONALINFO);
			//所需参数
			var comData = {
				userId: personal.utid, //用户ID,登录用户
				courseId: courseID //课程ID
			};
			//5.获取是否已对某个课程关注
			postDataMCPro_getCourseFocusByUser(comData, wd, function(data) {
				wd.close();
				console.log('5.获取是否已对某个课程关注:' + data.RspCode + ',RspData:' + JSON.stringify(data.RspData) + ',RspTxt:' + data.RspTxt);
				if(data.RspCode == 0) { //成功
					
				} else {
					mui.toast(data.RspTxt);
				}
			});
		}
		//获取课程信息
		var getInfo = function() {
			//个人信息
			var personal = window.myStorage.getItem(window.storageKeyName.PERSONALINFO);
			//所需参数
			var comData = {
				courseId: courseID //课程ID
			};
			//4.获取课程信息
			postDataMCPro_getCourseInfoById(comData, wd, function(data) {
				wd.close();
				console.log('4.获取课程信息:' + data.RspCode + ',RspData:' + JSON.stringify(data.RspData) + ',RspTxt:' + data.RspTxt);
				if(data.RspCode == 0) { //成功
					courseModel = data.RspData;
					createHtmlContent(courseModel);
				} else {
					mui.toast(data.RspTxt);
				}
			});
		}
		var createHtmlContent = function(Info) {
			nodes.title = Info.CourseName;
			nodes.teaHeadImg = Info.TeacherPic;
			nodes.teaName = Info.TeacherName;
			nodes.teaInfo = Info.TeacherNote;
			nodes.courseInfo = Info.CourseNote;
		}
		events.addTap('history', function() {

		})
	</script>

</html>