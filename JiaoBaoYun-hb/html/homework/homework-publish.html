<!--发布作业界面-->
<!--
	@anthor an
-->
<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta name="HandheldFriendly" content="true"/>
		<meta name="MobileOptimized" content="320"/>
		<link href="../../css/mui.min.css" rel="stylesheet" />
		<!--共用样式-->
		<link rel="stylesheet" href="../../css/utils/common.css" />
		<!--alibaba字库-->
		<link rel="stylesheet" href="../../css/iconfont/iconfont.css" />
		<!--本页面应用样式表-->
		<link rel="stylesheet" href="../../css/homework/homework-publish.css" />
	</head>

	<body>
		<!--标题栏-->
		<header class="mui-bar mui-bar-nav">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		    <h1 class="mui-title">发布</h1>
		    <!--发布作业按钮-->
		    <a class="mui-icon mui-pull-right header-publish">提交</a>
		</header>
		<!--content-->
		<div class="mui-content">
			<!--表单-->
		    <form class="mui-input-group">
			    <div class="mui-input-row">
			        <label>科目:</label>
			        <select >
			        	<option>语文</option>
			        	<option>数学</option>
			        	<option>英语</option>
			        	<option>政治</option>
			        	<option>历史</option>
			        	<option>地理</option>
			        	<option>化学</option>
			        	<option>生物</option>
			        	<option>物理</option>
			        	<option>其他</option>
			        </select>
			    </div>
			    <div class="mui-input-row">
			        <label>接收人</label>
			    	<ul>
			    	
			    	</ul>
			       	
			    </div>
			    <div>
			    <textarea id="publish-container" type="text" style="min-height: 10rem;" placeholder="输入你要布置的作业内容">
			    </textarea>
			    <div class="publish-extras">
			    	<a id="getRecord" class="mui-icon mui-icon-mic"></a>
			    	<a id="getImg" class="mui-icon iconfont icon-xiangji"></a>
			    	<a id="getVideo" class="mui-icon iconfont icon-shexiangji"></a>
			   <!-- 	<a class="mui-icon mui-icon-location"></a>-->
			    </div>
			   <!-- History list -->
				<ul id="history" class="dlist" style="text-align:left;">
					<li id="empty" class="ditem-empty">无记录</li>
				</ul>
			    <div class="mui-input-row">
			        <label>需学生在线提交</label>
			        <div class="mui-switch mui-active mui-switch-green">
			            <div class="mui-switch-handle"></div>
			        </div>
			    </div>
			    <p><span class="mui-icon mui-icon-info"></span>开启在线提交后，学生需提交语音，图片或文字等反馈</p>
			</form>
		</div>
		<div id="play" class="rp">
			<div id="ptime" class="ptime">00:00:00/00:00:00</div><br/>
			<div id="progress" class="progress"><div id="schedule" class="schedule"></div></div>
			<br/>
			<div class="stop" onclick="stopPlay()">
				<a class="mui-icon iconfont icon-tingzhi"></a>
			</div>
		</div>
		<div id="record" class="rp">
			<div style="width:100%;height:20%;"></div>
			<div class="rprogress"><div class="rschedule"></div></div>
			<br/>
			<div id="rtime" class="rtime">00:00:00</div><br/>
			<div class="stop" onclick="stopRecord()">
				<a class="mui-icon iconfont icon-tingzhi"></a>
			</div>
		</div>
		<!--mui库-->
		<script src="../../js/mui.min.js"></script>
		<!--公共事件模块-->
		<script src="../../js/utils/events.js"></script>
		<!--摄像头模块-->
		<script src="../../js/utils/camera.js"></script>
		<script src="../../js/common.js"></script>
		<!--录音模块-->
		<script src="../../js/utils/audio.js"></script>
		<script type="text/javascript">
			mui.init()
			mui.plusReady(function(){
				var lastEditRange=null;
				var publish_container=document.getElementById('publish-container');
				publish_container.addEventListener('tap',function(){
					var sction=getSelection();
					lastEditRange=sction.getRangeAt(0);
				})
				publish_container.addEventListener('release',function(){
					var sction=getSelection();
					lastEditRange=sction.getRangeAt(0);
				})
				//录音键
				events.addTap('getRecord',function(){
					startRecord()
				})
				//相机按钮
				events.addTap('getImg',function(){
					camera.getPic(camera.getCamera(),function(picPath){
						console.log("picPath:"+picPath);
					})
				})
				//录像按钮
				events.addTap('getVideo',function(){
					camera.getVideo(camera.getCamera(),function(videoPath){
						console.log("videoPath:"+videoPath);
					})
				})
				
			})
			
		</script>
	</body>

</html>